<div class="form-container">
    <mat-card>
        <mat-card-header>
            <mat-card-title>{{ isEditMode ? 'Editar Jogo' : 'Novo Jogo' }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
                <div class="form-grid">
                    <div class="image-preview-container" *ngIf="productForm.get('image')?.value">
                        <img [src]="productForm.get('image')?.value" alt="Preview" class="image-preview">
                    </div>

                    <div class="fields-container">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Nome</mat-label>
                            <input matInput formControlName="name" placeholder="Nome do jogo">
                            <mat-error *ngIf="productForm.get('name')?.hasError('required')">Nome é
                                obrigatório</mat-error>
                            <mat-error *ngIf="productForm.get('name')?.hasError('minlength')">Mínimo de 3
                                caracteres</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>URL da Imagem</mat-label>
                            <input matInput formControlName="image" placeholder="https://exemplo.com/imagem.jpg">
                            <mat-error *ngIf="productForm.get('image')?.hasError('required')">URL da imagem é
                                obrigatória</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Categoria</mat-label>
                            <mat-select formControlName="category">
                                <mat-option value="Ação/Aventura">Ação/Aventura</mat-option>
                                <mat-option value="RPG">RPG</mat-option>
                                <mat-option value="Esportes">Esportes</mat-option>
                                <mat-option value="FPS">FPS</mat-option>
                                <mat-option value="RPG/Futurista">RPG/Futurista</mat-option>
                                <mat-option value="Ação/Sobrevivência">Ação/Sobrevivência</mat-option>
                            </mat-select>
                            <mat-error *ngIf="productForm.get('category')?.hasError('required')">Categoria é
                                obrigatória</mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Preço</mat-label>
                            <input matInput type="number" formControlName="price" placeholder="0.00">
                            <span matTextPrefix>R$&nbsp;</span>
                            <mat-error *ngIf="productForm.get('price')?.hasError('required')">Preço é
                                obrigatório</mat-error>
                            <mat-error *ngIf="productForm.get('price')?.hasError('min')">Preço deve ser maior que
                                zero</mat-error>
                        </mat-form-field>
                    </div>
                </div>

                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Descrição</mat-label>
                    <textarea matInput formControlName="description" placeholder="Descrição do jogo"
                        rows="4"></textarea>
                    <mat-error *ngIf="productForm.get('description')?.hasError('required')">Descrição é
                        obrigatória</mat-error>
                </mat-form-field>

                <div class="actions">
                    <button mat-button type="button" routerLink="/">Cancelar</button>
                    <button mat-raised-button color="primary" type="submit"
                        [disabled]="productForm.invalid">Salvar</button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>